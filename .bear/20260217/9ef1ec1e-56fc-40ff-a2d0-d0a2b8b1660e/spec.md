# Bear AI Developer — 초기 TUI (슬로건 + 워크스페이스) 명세서

## 1. 개요

Bear AI Developer 애플리케이션의 첫 번째 구현 단계로, TUI 기반의 **슬로건 배너 출력**과 **워크스페이스 디렉토리 확인** 기능을 구현한다. 프로그램 실행 시 화면 최상단에 Bear 캐릭터 ASCII 아트와 슬로건을 출력하고, 사용자에게 워크스페이스 디렉토리를 확인받은 뒤 설정 완료 메시지를 출력하고 종료한다.

---

## 2. 목표 및 비목표

### 목표 (In-Scope)

- 프로그램 실행 시 Bear ASCII 아트 + 슬로건 배너를 화면 최상단에 출력한다.
- 배너 출력 후 사용자에게 워크스페이스 디렉토리를 확인받는다.
- 워크스페이스가 확정되면 설정 완료 메시지를 출력하고 프로그램을 종료한다.
- UI 모듈과 비즈니스 로직 모듈을 분리한다.
- TUI 공통 요구사항(네이티브 터미널 버퍼 사용, 텍스트 wrapping, Shift+Enter 줄바꿈 등)을 준수한다.

### 비목표 (Out-of-Scope)

- 요구사항 수집, 명세 작성, 개발 계획, 코드 작성, 코드 리뷰, 문서화 등 이후 단계의 기능.
- Claude Code CLI 연동.
- AI 모델 응답 출력 (이번 단계에서는 모델 호출이 없음).
- 설정 파일 저장이나 워크스페이스 상태 영속화.
- 프로그램 실행 인자(CLI arguments) 처리.

---

## 3. 기능 요구사항

### 3.1 TUI 공통 요구사항

이 요구사항들은 이번 구현 범위뿐 아니라 향후 모든 TUI 화면에 공통으로 적용되는 원칙이다.

- **FR-TUI-01**: 커스텀 터미널 버퍼(alternate screen buffer)를 사용하지 않고, 네이티브 터미널 버퍼를 사용한다. 스크롤은 네이티브 터미널이 직접 담당한다.
- **FR-TUI-02**: 스크롤 시 앱 화면 전체가 함께 움직여야 한다. 특정 영역(예: 슬로건)이 고정되고 나머지만 스크롤 되는 동작은 허용하지 않는다.
- **FR-TUI-03**: 사용자 입력 시 Shift+Enter로 줄바꿈을 삽입하여 여러 줄 입력이 가능해야 한다.
- **FR-TUI-04**: 사용자가 입력하거나 붙여넣기한 텍스트가 터미널 가로 폭보다 길 경우, 오른쪽이 잘리지 않고 자동으로 wrap되어 다음 줄에 이어서 표시되어야 한다.
- **FR-TUI-05**: 사용자가 입력한 텍스트는 공백, 탭 등 모든 문자가 그대로 보존되어야 하며, 화면에도 사용자가 기대하는 형태 그대로 출력되어야 한다.
- **FR-TUI-06**: 화면에 출력된 텍스트는 마우스 커서로 선택하여 복사할 수 있어야 한다.
- **FR-TUI-07**: 프로그램이 출력하는 메시지도 터미널 가로 폭보다 길 경우 자동으로 wrap되어야 한다.
- **FR-TUI-08**: 여러 줄 입력 상태에서 키보드 방향키(상/하/좌/우)로 커서를 이동할 수 있어야 한다.
- **FR-TUI-09**: 프로그램이 직접 출력하는 모든 메시지(에러 메시지, 안내 메시지 등)는 영어로 작성한다. (AI 모델의 응답은 이 규칙의 대상이 아님)

### 3.2 슬로건 배너

프로그램 실행 시 화면 최상단에 Bear 캐릭터 배너를 출력한다.

- **FR-SLG-01**: 배너는 두 영역으로 구성된다.
  - **왼쪽 영역**: Bear 캐릭터 ASCII 아트 (노란색).
  - **오른쪽 영역**: 슬로건 텍스트와 설명 텍스트.

- **FR-SLG-02**: Bear ASCII 아트는 다음 7줄로 구성된다:
  ```
  (빈 줄)
         () _ _ ()
        / __  __ \
  /@@\ /  o    o  \ /@@\
  \ @ \|     ^    |/ @ /
   \   \    ___   /   /
    \   \________/   /
  ```

- **FR-SLG-03**: Bear ASCII 아트는 노란색(Yellow)으로 출력한다.

- **FR-SLG-04**: 오른쪽 영역은 Bear ASCII 아트 오른쪽에 표시되며, 다음 두 텍스트로 구성된다:
  - **슬로건**: `"Bear: The AI developer that saves your time."` — 시안색(Cyan), 굵은 글씨(Bold).
  - **설명**: `"Bear, your AI developer, does the heavy lifting for you; you just collect your paycheck and don't worry about a thing."` — 진한 회색(DarkGrey), 일반 글씨.
  - 슬로건과 설명 사이에 빈 줄 하나를 삽입한다.

- **FR-SLG-05**: 오른쪽 영역의 텍스트는 터미널 가로 폭에서 Bear ASCII 아트 영역 폭을 뺀 나머지 공간에 맞춰 단어 단위로 줄바꿈(word wrap)한다.

- **FR-SLG-06**: 배너 아래에 터미널 전체 가로 폭 길이의 수평 구분선(`─` 문자 반복)을 진한 회색(DarkGrey)으로 출력한다.

- **FR-SLG-07**: 터미널 가로 폭이 Bear ASCII 아트를 표시하기에 부족할 만큼 좁은 경우, 에러 메시지를 출력하고 프로그램을 종료한다.

### 3.3 워크스페이스 확인

슬로건 배너 출력 후, 사용자에게 워크스페이스 디렉토리를 확인받는다.

- **FR-WS-01**: 현재 워킹 디렉토리 경로를 사용자에게 표시하고, 이 디렉토리가 작업할 워크스페이스가 맞는지 확인을 요청한다.

- **FR-WS-02**: 사용자가 Enter만 입력하면(빈 입력), 현재 워킹 디렉토리를 워크스페이스로 확정한다.

- **FR-WS-03**: 사용자가 다른 경로를 입력하면, 해당 경로에 대해 다음 세 가지 검증을 순서대로 수행한다:
  1. **절대 경로 검증**: 입력된 경로가 절대 경로인지 확인한다. 상대 경로는 허용하지 않는다.
  2. **존재 여부 검증**: 해당 경로가 파일 시스템에 실제로 존재하는지 확인한다.
  3. **디렉토리 검증**: 해당 경로가 디렉토리인지 확인한다. (파일 경로는 허용하지 않는다.)

- **FR-WS-04**: 검증 실패 시 실패 원인에 따라 각각 다른 에러 메시지를 영어로 출력한다:
  - 상대 경로인 경우: 절대 경로를 사용해야 한다는 안내 메시지.
  - 존재하지 않는 경로인 경우: 해당 경로가 존재하지 않는다는 안내 메시지.
  - 파일인 경우(디렉토리가 아닌 경우): 디렉토리 경로를 입력해야 한다는 안내 메시지.

- **FR-WS-05**: 검증 실패 시 에러 메시지를 표시한 후, 다시 워크스페이스 경로 입력 프롬프트로 돌아간다. 이 루프는 유효한 경로가 입력될 때까지 반복한다.

- **FR-WS-06**: 워크스페이스가 확정되면 설정 완료 메시지를 영어로 출력하고 프로그램을 정상 종료한다 (exit code 0).

---

## 4. 비기능 요구사항

- **NFR-01**: UI 모듈과 비즈니스 로직 모듈을 분리한다. UI 모듈 안에 비즈니스 로직(파일 시스템 접근, 경로 검증 등)이 포함되지 않도록 한다.
- **NFR-02**: 프로그램이 직접 출력하는 모든 사용자 대면 메시지(프롬프트, 에러 메시지, 안내 메시지)는 영어로 작성한다.
- **NFR-03**: Go 언어로 구현한다.
- **NFR-04**: CLAUDE.md에 정의된 코딩 컨벤션을 준수한다 (가독성 우선, 함수 단일 책임, 50줄 이상 함수 리팩토링 고려, 3단계 이상 들여쓰기 금지 등).

---

## 5. 인수 기준 (Acceptance Criteria)

### 5.1 슬로건 배너

- **AC-SLG-01**: 프로그램 실행 시 Bear ASCII 아트가 노란색으로 화면 최상단에 출력된다.
- **AC-SLG-02**: ASCII 아트 오른쪽에 슬로건 텍스트(시안/굵은 글씨)와 설명 텍스트(진한 회색)가 출력된다.
- **AC-SLG-03**: 오른쪽 영역의 텍스트가 터미널 폭에 맞게 단어 단위로 자동 줄바꿈된다.
- **AC-SLG-04**: 배너 하단에 터미널 전체 폭의 수평 구분선(`─`)이 진한 회색으로 출력된다.
- **AC-SLG-05**: 터미널 폭이 Bear ASCII 아트를 표시하기에 부족할 정도로 좁으면, 에러 메시지를 출력하고 프로그램이 종료된다 (exit code ≠ 0).

### 5.2 워크스페이스 확인

- **AC-WS-01**: 배너 출력 후 현재 워킹 디렉토리가 표시되고 워크스페이스 확인 프롬프트가 나타난다.
- **AC-WS-02**: 빈 입력(Enter만)을 하면 현재 워킹 디렉토리가 워크스페이스로 확정되고, 완료 메시지 출력 후 프로그램이 종료된다 (exit code 0).
- **AC-WS-03**: 유효한 절대 디렉토리 경로를 입력하면 해당 경로가 워크스페이스로 확정되고, 완료 메시지 출력 후 프로그램이 종료된다 (exit code 0).
- **AC-WS-04**: 상대 경로를 입력하면 절대 경로 사용 안내 에러 메시지가 영어로 표시되고, 다시 프롬프트로 돌아간다.
- **AC-WS-05**: 존재하지 않는 경로를 입력하면 존재하지 않는다는 에러 메시지가 영어로 표시되고, 다시 프롬프트로 돌아간다.
- **AC-WS-06**: 파일 경로(디렉토리가 아닌 경로)를 입력하면 디렉토리를 입력하라는 에러 메시지가 영어로 표시되고, 다시 프롬프트로 돌아간다.
- **AC-WS-07**: 검증 실패 후 유효한 경로를 다시 입력하면 정상적으로 워크스페이스가 확정된다.

### 5.3 TUI 공통

- **AC-TUI-01**: alternate screen buffer를 사용하지 않으며, 네이티브 터미널 스크롤이 동작한다.
- **AC-TUI-02**: 스크롤 시 슬로건 영역을 포함한 화면 전체가 함께 움직인다.
- **AC-TUI-03**: 워크스페이스 입력 프롬프트에서 Shift+Enter로 줄바꿈을 삽입할 수 있다.
- **AC-TUI-04**: 입력 텍스트가 터미널 폭보다 길면 자동으로 wrap되어 다음 줄에 이어서 표시된다.
- **AC-TUI-05**: 입력 시 공백, 탭 등의 문자가 그대로 보존되고 화면에 정확히 표시된다.
- **AC-TUI-06**: 화면에 출력된 텍스트를 마우스로 선택하여 복사할 수 있다.
- **AC-TUI-07**: 여러 줄 입력 상태에서 방향키(상/하/좌/우)로 커서를 이동할 수 있다.

### 5.4 설계

- **AC-DES-01**: UI 모듈과 비즈니스 로직 모듈이 분리되어 있으며, UI 모듈에 비즈니스 로직(경로 검증, 파일 시스템 접근 등)이 직접 포함되어 있지 않다.

---

## 6. 미결 사항 (Open Questions)

현재 미결 사항 없음.